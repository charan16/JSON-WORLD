<!doctype html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description"
    content="The json world is a place for all your json needs. It has two parts one Generator and the part two JsonUUIDReplacer. The latter will replace all the UUID in the json with a new one. Often we have to deal with development of api that requeries persistency of JSON data and during this development the id cause a problem
  either we need to change all uuid to new one or delete the one from db. To overcome this pain Json uuid replacer will help you replace all the uuid with a new one in just a click. It not only just replace it will do it intelligently by replaces the all the instance of a uuid at various levels with the same one.">
  <meta name="keywords" content="JSON, UUID, replacer, generator, json request, api">
  <meta name="author" content="John Doe">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="container">
    <div class="col text-center">
      <div class="row-sm justify-content-between">
        <h1 class="display-2">JSON World</h1>
        <p class="lead font-weight-light">The json world helps you working with all the json needs. It has support to generate a new random uuid and also a json uuid replacer.</p>
        <div id="singleUUIDGenerator" class="m-5">
          <div>
            <h2 class="display-4"> Generate an uuid </span>
              <button type="button" class="btn btn-outline-secondary" style="foont-size: 10px;" onclick="generateUUID()">Generate</button>
          </div>
          <div id="new_guid_div" hidden>
            <span id="new_uuid" class="border border-dark rounded p-2"></span>
            <button type="button" id="copy1" class="btn btn-sm btn-outline-secondary" onclick="copyToClip('new_uuid')">
              <svg class="bi bi-clipboard" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z" />
                <path fill-rule="evenodd" d="M9.5 1h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z" />
              </svg>
          </div>
        </div>
        <div>
          <h2 class="display-4">Json UUID replacer</h2>
          <p class="lead text-justify font-weight-lighter">
            The JsonUUIDReplacer will replace all the UUID in the json with a new one. Often we have to deal with development of api that requeries persistency of JSON data and during this development the id cause a problem
            either we need to change all uuid to new one or delete the one from db. To overcome this pain Json uuid replacer will help you replace all the uuid with a new one in just a click. It not only just replace it will do it intelligently
            by
            replaces the all the instance of a uuid at various levels with the same one</p>
          <div class="row">
            <div class="col-sm-6 card">
              <div class="col card-body align-items-center">
                <div class="col">
                  <label>Please paste the json content here to replace the uuid code</label>
                </div>
                <div class="col">
                  <textarea id="json" class="form-control" name="json" rows="30">
              </textarea>
                </div>
                <div class="col d-flex mt-2 justify-content-center">
                  <button type="button" class="btn btn-outline-secondary" onclick="uuid_replacer()">Replace</button>
                </div>
              </div>
            </div>
            <div class="col-sm-6 card">
              <div class="row card-body">
                <div class="col" style="height: 45rem; width: 50rem; overflow:scroll;">
                  <pre>
              <code id="pre_element" style="display:block; color: green;font-family: Consolas, Courier New, monospace; font-size: 0.7rem">
              </code>
            </pre>
                </div>
                <div class="col-2">
                  <div type="button" class="btn btn-sm btn-outline-secondary" onclick="copyToClip('pre_element')">
                    <svg class="bi bi-clipboard" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z" />
                      <path fill-rule="evenodd" d="M9.5 1h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z" />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  <script>
    function uuid_replacer() {
      let code = document.getElementById('json').value;
      try {
        const ids = code.match('[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}');
        if (ids == null) {
          return document.getElementById('pre_element').textContent = JSON.stringify(JSON.parse(code), undefined, '  ');
        }
        ids.forEach((id, i) => {
          code = code.split(id).join(uuidv4());
        });
        const new_json = JSON.parse(code);
        document.getElementById('pre_element').textContent = JSON.stringify(new_json, undefined, 2);
      } catch (e) {
        if (e instanceof SyntaxError) {
          document.getElementById('pre_element').textContent = "Not a valid json";
          document.getElementById('pre_element').style.color = "red";
          document.getElementById('pre_element').style.fontSize = "1rem";
          printError(e, false);
        }
      }
    }

    function copyToClip(element) {
      const string = document.getElementById(element).textContent;

      copyToClipboard(string);
    };

    const copyToClipboard = str => {
      const el = document.createElement('textarea');
      el.value = str;
      document.body.appendChild(el);
      el.select();
      document.execCommand('copy');
      document.body.removeChild(el);
    }

    function generateUUID() {
      document.getElementById('new_uuid').textContent = uuidv4();
      document.getElementById('new_guid_div').removeAttribute('hidden');
    }
  </script>
</body>

</html>
